package game.entity.mob.AI;

import game.Game;
import game.entity.mob.Player;
import game.level.Level;

public class Gunner extends AI{

	public Gunner(Level level, Game game) {
		super(game);
		this.level = level;
		sprite = sprite.voidSprite;
		speed = 1;
		health = 2;
		randomTick = randomTick();
	}
	
	public void tick() {
		super.tick();
		
		Player player = game.getPlayer();
		
		tickCount++;
		
		if(seesPlayer(player)) {
			if(xDir == 0 && yDir == 0) {
				// small possibility to shoot
			}
		}
		
		if(tickCount >= randomTick) {
			tickCount = 0;
			randomTick = randomTick();
			
			double dx = player.getX() - x;
			double dy = player.getY() - y;
			
			if(collided) {
				xDir = 0;
				yDir = 0;
				collided = true;
			} else {
				if(random.nextBoolean() && seesPlayer(player)) {
					System.out.println("shhoot");
				} else {
					angle = Math.atan2(dy, dx) + Math.toRadians(random.nextInt(40) - 20);
				}
			}
		}
	}

}
