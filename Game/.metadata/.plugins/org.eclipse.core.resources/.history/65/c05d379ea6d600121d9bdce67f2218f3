package game.entity.mob.AI;

import game.gfx.Sprite;

public class Stalker extends AI {

	public Stalker() {
		sprite = sprite.shot;
		speed = 0.5;
		range = 200;
		xDir = 0.1;
		yDir = 0.1;
	}

	public void tick(int xPlayer, int yPlayer) {
		super.tick();

		seesPlayer(xPlayer, yPlayer);
		
		//System.out.println(seesPlayer(xPlayer, yPlayer));
	}

	private void getLineEquation(int x0, int x1, int y0, int y1) {
		k = (y0 - y1) / (x0 - x1);
		m = (y1 - y0) - k * (x1 - x0);
		
		System.out.println(lk);
		

	}

	protected boolean seesPlayer(int xPlayer, int yPlayer) {
		int tileSize = game.getTileSize();

		int x0 = (int) x >> 4;
		int x1 = xPlayer >> 4;
		int y0 = (int) y >> 4;
		int y1 = yPlayer >> 4;

		if(x0 != x1) getLineEquation(x0, x1, y0, y1);
		else k = 999999999;
		
		System.out.println("y = " + k + "x + " + m);

		for (int yy = y0; yy < y1; yy++) {
			for (int xx = x0; xx < x1; xx++) {
				if (level.getTile(xx, yy).isSolid() && yy == (int) (k * xx + m)) return true;
			}
		}

		return false;
	}
}
