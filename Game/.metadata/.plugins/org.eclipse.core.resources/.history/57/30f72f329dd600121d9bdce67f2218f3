package game.entity.mob.AI;

public class Stalker extends AI{

	public Stalker() {
		sprite = sprite.rock;
		speed = 0.5;
		range = 200;
	}
	
	public void tick(int xPlayer, int yPlayer) {
		super.tick();
		
		if(seenPlayer(xPlayer, yPlayer)) {
			System.out.println("Sees player");
		} else System.out.println("Cannot see player");
	}
	
	
	protected boolean seenPlayer(int xPlayer, int yPlayer) {
		int tileSize = game.getTileSize();

		int x0 = (int) ((xPlayer < x) ? xPlayer : x);
		int x1 = (int) ((xPlayer > x) ? xPlayer : x);
		int y0 = (int) ((yPlayer < y) ? yPlayer : y);
		int y1 = (int) ((yPlayer > y) ? yPlayer : y);
		
		int dx = (int)(xPlayer - x);
		int dy = (int)(yPlayer - y);
		
//		System.out.println("x0: " + x0);
//		System.out.println(x1);
//		System.out.println("y0: " + y0);
//		System.out.println(y1);

		int xx = x0;
		for(int yy = y0; yy < y1; yy += tileSize) {
			if(level.getTile(xx, yy).isSolid()) return false;
			xx+=tileSize;
			if(level.getTile(xx, yy).isSolid()) return false;
		}
		
		return true;
	}
}
